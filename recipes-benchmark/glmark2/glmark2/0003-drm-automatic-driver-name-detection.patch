From 69f3a2186233c2b3b34d39f52d511fd98476b06f Mon Sep 17 00:00:00 2001
From: Christophe Priouzeau <christophe.priouzeau@st.com>
Date: Tue, 25 Oct 2016 09:37:26 +0200
Subject: [PATCH] drm: automatic driver name detection

Look for the drm driver using udev services.

Signed-off-by: Vincent Abriou <vincent.abriou@st.com>
---
diff --git a/src/wscript_build b/src/wscript_build
index bc7e04e..e976f8d 100644
--- a/src/wscript_build
+++ b/src/wscript_build
@@ -25,8 +25,8 @@ flavor_sources = {
 flavor_uselibs = {
   'x11-gl' : ['x11', 'gl', 'matrix-gl', 'common-gl'],
   'x11-glesv2' : ['x11', 'egl', 'glesv2', 'matrix-glesv2', 'common-glesv2'],
-  'drm-gl' : ['drm', 'gbm', 'udev', 'egl', 'gl', 'matrix-gl', 'common-gl'],
-  'drm-glesv2' : ['drm', 'gbm', 'udev', 'egl', 'glesv2', 'matrix-glesv2', 'common-glesv2'],
+  'drm-gl' : ['drm', 'gbm', 'udev', 'egl', 'gl', 'matrix-gl', 'common-gl', 'udev'],
+  'drm-glesv2' : ['drm', 'gbm', 'udev', 'egl', 'glesv2', 'matrix-glesv2', 'common-glesv2', 'udev'],
   'mir-gl' : ['mirclient', 'egl', 'gl', 'matrix-gl', 'common-gl'],
   'mir-glesv2' : ['mirclient', 'egl', 'glesv2', 'matrix-glesv2', 'common-glesv2'],
   'wayland-gl' : ['wayland-client', 'wayland-egl', 'egl', 'gl', 'matrix-gl', 'common-gl'],1.9.1

