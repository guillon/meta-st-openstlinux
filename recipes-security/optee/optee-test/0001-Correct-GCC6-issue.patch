From abb9eb97740e1df269ca252e8c51fe06e57359ea Mon Sep 17 00:00:00 2001
From: Christophe Priouzeau <christophe.priouzeau@st.com>
Date: Thu, 8 Nov 2018 18:27:13 +0100
Subject: [PATCH 1/2] Correct GCC6 issue

Signed-off-by: Christophe Priouzeau <christophe.priouzeau@st.com>
---
 host/xtest/adbg/src/adbg_run.c | 2 +-
 host/xtest/regression_4000.c   | 1 +
 3 files changed, 4 insertions(+), 2 deletions(-)

diff --git a/host/xtest/adbg/src/adbg_run.c b/host/xtest/adbg/src/adbg_run.c
index 406e429..3b57bbb 100644
--- a/host/xtest/adbg/src/adbg_run.c
+++ b/host/xtest/adbg/src/adbg_run.c
@@ -100,7 +100,7 @@ int Do_ADBG_AppendToSuite(
 		snprintf(p, size, "%s+%s", Dest_p->SuiteID_p,
 			 Source_p->SuiteID_p);
 	else
-		strncpy(p, Source_p->SuiteID_p, size);
+		memcpy(p, Source_p->SuiteID_p, size);
 	free((void *)Dest_p->SuiteID_p);
 	Dest_p->SuiteID_p = p;
 
diff --git a/host/xtest/regression_4000.c b/host/xtest/regression_4000.c
index 380bdf4..06f81d3 100644
--- a/host/xtest/regression_4000.c
+++ b/host/xtest/regression_4000.c
@@ -5014,6 +5014,7 @@ static void xtest_tee_test_4011(ADBG_Case_t *c)
 			if (tmp[m] != 0xff)
 				break;
 		/* 4.2 */
+		tmp_size = sizeof(tmp);
 		memmove(tmp + n + i, tmp + m, tmp_size - m);
 		/* 4.3 */
 		for (n = n + tmp_size - m + i; n < tmp_size; n++)
-- 
2.7.4

