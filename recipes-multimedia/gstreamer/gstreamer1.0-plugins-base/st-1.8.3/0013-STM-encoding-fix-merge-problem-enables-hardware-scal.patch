From f65b6400cb289567aa91ca7535172eba35e9b826 Mon Sep 17 00:00:00 2001
From: Jean-Christophe Trotin <jean-christophe.trotin@st.com>
Date: Fri, 21 Oct 2016 10:20:56 +0200
Subject: [PATCH 13/13] STM: encoding: fix merge problem (enables hardware
 scaling)

Change-Id: If6f84e101e6bfdae8ba6bce0bb50337e24a3eb21
Reviewed-on: https://gerrit.st.com/59423
Reviewed-by: Jean Christophe TROTIN <jean-christophe.trotin@st.com>
Tested-by: Jean Christophe TROTIN <jean-christophe.trotin@st.com>
Reviewed-by: Christophe PRIOUZEAU <christophe.priouzeau@st.com>
Reviewed-by: Vincent ABRIOU <vincent.abriou@st.com>
---
 gst/encoding/gstencodebin.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/gst/encoding/gstencodebin.c b/gst/encoding/gstencodebin.c
index 7e0bd66..834aab3 100644
--- a/gst/encoding/gstencodebin.c
+++ b/gst/encoding/gstencodebin.c
@@ -1468,7 +1468,7 @@ _create_stream_group (GstEncodeBin * ebin, GstEncodingProfile * sprof,
 
       if (!fast_element_link (cspace, scale) ||
           !fast_element_link (scale, queue) ||
-          !fast_element_link (scale, cspace2))
+          !fast_element_link (queue, cspace2))
         goto converter_link_failure;
     }
 
-- 
2.7.4

